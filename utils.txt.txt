utiliy fun for version 3